{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/db-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class UserLoginComponent {\n  constructor(help, router) {\n    this.help = help;\n    this.router = router;\n    this.loginForm = new FormGroup({\n      'email': new FormControl(),\n      'password': new FormControl()\n    });\n  }\n  sendSignUpData() {\n    console.log(this.loginForm.value);\n    this.help.login(this.loginForm.value).subscribe({\n      next: data => {\n        this.receivedData = data;\n        console.log(this.receivedData);\n        console.log(this.receivedData.userEmail);\n        console.log(this.receivedData.token);\n        console.log(this.receivedData.userRole);\n        localStorage.setItem('token', this.receivedData.token);\n        localStorage.setItem('role', this.receivedData.userRole);\n        if (this.receivedData.userRole == \"ADMIN\") {\n          this.router.navigateByUrl(\"/admin\");\n        } else {\n          this.router.navigateByUrl(\"/home\");\n        }\n      },\n      error: e => alert(`${e.message}\\n${e.status}`)\n    });\n  }\n}\nUserLoginComponent.ɵfac = function UserLoginComponent_Factory(t) {\n  return new (t || UserLoginComponent)(i0.ɵɵdirectiveInject(i1.DbServiceService), i0.ɵɵdirectiveInject(i2.Router));\n};\nUserLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserLoginComponent,\n  selectors: [[\"app-user-login\"]],\n  decls: 13,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"card\", \"mt-5\"], [1, \"card-info\"], [1, \"title\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"placeholder\", \"Your email\", \"type\", \"text\", \"formControlName\", \"email\", \"required\", \"\", 1, \"input\"], [\"placeholder\", \"Enter Password\", \"type\", \"text\", \"formControlName\", \"password\", \"required\", \"\", 1, \"input\"], [\"type\", \"submit\", \"href\", \"#\", 1, \"btn\"], [\"routerLink\", \"register\"]],\n  template: function UserLoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"<\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"p\", 3);\n      i0.ɵɵtext(5, \"Enter Your Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function UserLoginComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.sendSignUpData();\n      });\n      i0.ɵɵelement(7, \"input\", 5)(8, \"input\", 6);\n      i0.ɵɵelementStart(9, \"button\", 7);\n      i0.ɵɵtext(10, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"code\", 8);\n      i0.ɵɵtext(12, \"New User SignUp\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  dependencies: [i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 534:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(125:3) D:\\\\\\\\mini Project\\\\\\\\AnimeSite\\\\\\\\src\\\\\\\\app\\\\\\\\user-login\\\\\\\\user-login.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 123 | \\\\u001b[39mcode\\\\n \\\\u001b[90m 124 | \\\\u001b[39m\\\\u001b[33m{\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 125 | \\\\u001b[39m  po\\\\n \\\\u001b[90m     | \\\\u001b[39m  \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 126 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 127 | \\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[534]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=user-login.component.css.map*/\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;;;;;AAQvD,OAAM,MAAOC,kBAAkB;EAC7BC,YAAoBC,IAAqB,EAASC,MAAa;IAA3C,SAAI,GAAJD,IAAI;IAA0B,WAAM,GAANC,MAAM;IACxD,cAAS,GAAC,IAAIJ,SAAS,CAAC;MACtB,OAAO,EAAC,IAAID,WAAW,EAAE;MACzB,UAAU,EAAC,IAAIA,WAAW;KAC3B,CAAC;EAJ+D;EAMjEM,cAAc;IACZC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,SAAS,CAACC,KAAK,CAAC;IACjC,IAAI,CAACN,IAAI,CAACO,KAAK,CAAC,IAAI,CAACF,SAAS,CAACC,KAAK,CAAC,CAACE,SAAS,CAAC;MAACC,IAAI,EAACC,IAAI,IAAE;QAC1D,IAAI,CAACC,YAAY,GAACD,IAAI;QACtBP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAAC;QAC9BR,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAACC,SAAS,CAAC;QACxCT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAACE,KAAK,CAAC;QACpCV,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAACG,QAAQ,CAAC;QACvCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAC,IAAI,CAACL,YAAY,CAACE,KAAK,CAAC;QACrDE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAC,IAAI,CAACL,YAAY,CAACG,QAAQ,CAAC;QACvD,IAAG,IAAI,CAACH,YAAY,CAACG,QAAQ,IAAE,OAAO,EAAC;UACrC,IAAI,CAACb,MAAM,CAACgB,aAAa,CAAC,QAAQ,CAAC;SACpC,MAAI;UACH,IAAI,CAAChB,MAAM,CAACgB,aAAa,CAAC,OAAO,CAAC;;MAGtC,CAAC;MAACC,KAAK,EAACC,CAAC,IAAEC,KAAK,CAAC,GAAGD,CAAC,CAACE,OAAO,KAAKF,CAAC,CAACG,MAAM,EAAE;IAAC,CAAC,CAAC;EAEjD;;AAzBWxB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/BC,iBAAC;MAAAA,8BAAuB;MAIDA,kCAAkB;MAAAA,iBAAI;MACvCA,+BAAyE;MAA9BA;QAAA,OAAYC,oBAAgB;MAAA,EAAC;MACxED,2BAA4F;MAE5FA,iCAA2C;MAAAA,sBAAK;MAAAA,iBAAS;MAG3DA,gCAA4B;MAAAA,gCAAe;MAAAA,iBAAO;;;MAN7BA,eAAuB;MAAvBA,yCAAuB","names":["FormControl","FormGroup","UserLoginComponent","constructor","help","router","sendSignUpData","console","log","loginForm","value","login","subscribe","next","data","receivedData","userEmail","token","userRole","localStorage","setItem","navigateByUrl","error","e","alert","message","status","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\mini Project\\AnimeSite\\src\\app\\user-login\\user-login.component.ts","D:\\mini Project\\AnimeSite\\src\\app\\user-login\\user-login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { DbServiceService } from '../services/db-service.service';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-user-login',\n  templateUrl: './user-login.component.html',\n  styleUrls: ['./user-login.component.css']\n})\nexport class UserLoginComponent {\n  constructor(private help:DbServiceService,private router:Router){}\n  loginForm=new FormGroup({\n    'email':new FormControl(),\n    'password':new FormControl(),\n  })\nreceivedData:any;\n  sendSignUpData(){\n    console.log(this.loginForm.value);\n    this.help.login(this.loginForm.value).subscribe({next:data=>{\n      this.receivedData=data;\n      console.log(this.receivedData);\n      console.log(this.receivedData.userEmail)\n      console.log(this.receivedData.token)\n      console.log(this.receivedData.userRole)\n      localStorage.setItem('token',this.receivedData.token)\n      localStorage.setItem('role',this.receivedData.userRole)\n      if(this.receivedData.userRole==\"ADMIN\"){\n        this.router.navigateByUrl(\"/admin\");\n      }else{\n        this.router.navigateByUrl(\"/home\")\n      }\n\n    },error:e=>alert(`${e.message}\\n${e.status}`)});\n\n  }\n}\n","<<div class=\"container\">\n  <div class=\"card mt-5\">\n\n    <div class=\"card-info\">\n      <p class=\"title\">Enter Your Details</p>\n      <form class=\"form\" [formGroup]=\"loginForm\" (ngSubmit)=\"sendSignUpData()\">\n      <input placeholder=\"Your email\" class=\"input\"  type=\"text\" formControlName=\"email\" required>\n      <input placeholder=\"Enter Password\" class=\"input\"  type=\"text\" formControlName=\"password\" required>\n      <button type=\"submit\" class=\"btn\" href=\"#\">Login</button>\n    </form>\n\n    <code routerLink=\"register\">New User SignUp</code>\n    </div>\n  </div>\n  </div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}