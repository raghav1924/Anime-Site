{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet UserLoginComponent = class UserLoginComponent {\n  constructor(help, router) {\n    this.help = help;\n    this.router = router;\n    this.loginForm = new FormGroup({\n      'email': new FormControl(),\n      'password': new FormControl()\n    });\n  }\n  sendSignUpData() {\n    console.log(this.loginForm.value);\n    this.help.login(this.loginForm.value).subscribe({\n      next: data => {\n        this.receivedData = data;\n        console.log(this.receivedData);\n        console.log(this.receivedData.userEmail);\n        console.log(this.receivedData.token);\n        console.log(this.receivedData.userRole);\n        localStorage.setItem('token', this.receivedData.token);\n        localStorage.setItem('role', this.receivedData.userRole);\n        if (this.receivedData.userRole == \"ADMIN\") {\n          this.router.navigateByUrl(\"/admin\");\n        } else {\n          this.router.navigateByUrl(\"/home\");\n        }\n      },\n      error: e => alert(`${e.message}\\n${e.status}`)\n    });\n  }\n};\nUserLoginComponent = __decorate([Component({\n  selector: 'app-user-login',\n  templateUrl: './user-login.component.html',\n  styleUrls: ['./user-login.component.css']\n})], UserLoginComponent);\nexport { UserLoginComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAASC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AAQhD,IAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAC7BC,YAAoBC,IAAqB,EAASC,MAAa;IAA3C,SAAI,GAAJD,IAAI;IAA0B,WAAM,GAANC,MAAM;IACxD,cAAS,GAAC,IAAIJ,SAAS,CAAC;MACtB,OAAO,EAAC,IAAID,WAAW,EAAE;MACzB,UAAU,EAAC,IAAIA,WAAW;KAC3B,CAAC;EAJ+D;EAMjEM,cAAc;IACZC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,SAAS,CAACC,KAAK,CAAC;IACjC,IAAI,CAACN,IAAI,CAACO,KAAK,CAAC,IAAI,CAACF,SAAS,CAACC,KAAK,CAAC,CAACE,SAAS,CAAC;MAACC,IAAI,EAACC,IAAI,IAAE;QAC1D,IAAI,CAACC,YAAY,GAACD,IAAI;QACtBP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAAC;QAC9BR,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAACC,SAAS,CAAC;QACxCT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAACE,KAAK,CAAC;QACpCV,OAAO,CAACC,GAAG,CAAC,IAAI,CAACO,YAAY,CAACG,QAAQ,CAAC;QACvCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAC,IAAI,CAACL,YAAY,CAACE,KAAK,CAAC;QACrDE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAC,IAAI,CAACL,YAAY,CAACG,QAAQ,CAAC;QACvD,IAAG,IAAI,CAACH,YAAY,CAACG,QAAQ,IAAE,OAAO,EAAC;UACrC,IAAI,CAACb,MAAM,CAACgB,aAAa,CAAC,QAAQ,CAAC;SACpC,MAAI;UACH,IAAI,CAAChB,MAAM,CAACgB,aAAa,CAAC,OAAO,CAAC;;MAGtC,CAAC;MAACC,KAAK,EAACC,CAAC,IAAEC,KAAK,CAAC,GAAGD,CAAC,CAACE,OAAO,KAAKF,CAAC,CAACG,MAAM,EAAE;IAAC,CAAC,CAAC;EAEjD;CACD;AA1BYxB,kBAAkB,eAL9BH,SAAS,CAAC;EACT4B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,GACW3B,kBAAkB,CA0B9B;SA1BYA,kBAAkB","names":["Component","FormControl","FormGroup","UserLoginComponent","constructor","help","router","sendSignUpData","console","log","loginForm","value","login","subscribe","next","data","receivedData","userEmail","token","userRole","localStorage","setItem","navigateByUrl","error","e","alert","message","status","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\mini Project\\AnimeSite\\src\\app\\user-login\\user-login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { DbServiceService } from '../services/db-service.service';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-user-login',\n  templateUrl: './user-login.component.html',\n  styleUrls: ['./user-login.component.css']\n})\nexport class UserLoginComponent {\n  constructor(private help:DbServiceService,private router:Router){}\n  loginForm=new FormGroup({\n    'email':new FormControl(),\n    'password':new FormControl(),\n  })\nreceivedData:any;\n  sendSignUpData(){\n    console.log(this.loginForm.value);\n    this.help.login(this.loginForm.value).subscribe({next:data=>{\n      this.receivedData=data;\n      console.log(this.receivedData);\n      console.log(this.receivedData.userEmail)\n      console.log(this.receivedData.token)\n      console.log(this.receivedData.userRole)\n      localStorage.setItem('token',this.receivedData.token)\n      localStorage.setItem('role',this.receivedData.userRole)\n      if(this.receivedData.userRole==\"ADMIN\"){\n        this.router.navigateByUrl(\"/admin\");\n      }else{\n        this.router.navigateByUrl(\"/home\")\n      }\n\n    },error:e=>alert(`${e.message}\\n${e.status}`)});\n\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}